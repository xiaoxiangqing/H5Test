<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
		</style>
		
	</head>
	<body>
		
		<canvas id="canvas" style="border: 1px solid red;margin-top: 10px;" width="400px" height="60px"></canvas><br>
		<button onclick="start()" >开始</button>
		<button onclick="stop()" >停止</button>
		<script>
		var canvas=document.getElementById("canvas");
		var ctx= canvas.getContext("2d");
		var radius=canvas.height/2;
		var speed=20;
		var rg=5;
		var x=-radius;
		var y=radius;
		var isrun=false;
		var is;
		function draw(){
			ctx.clearRect(0,0,canvas.width,canvas.height)
			ctx.fillStyle="yellow";
			ctx.beginPath();
			ctx.arc(x,y,radius,0,2*Math.PI);
			ctx.closePath();
			ctx.fill();
			if(x>canvas.width-radius||x<-radius){rg=-rg;}
			x+=rg;
		}
		function start(){
			if(!isrun){
				is=setInterval("draw()",speed);
				isrun=true;
			}
		}
		function stop(){
			if(isrun){
				clearInterval(is);
				isrun=false;
			}
		}
		
	</script>
	</body>
	
</html>
